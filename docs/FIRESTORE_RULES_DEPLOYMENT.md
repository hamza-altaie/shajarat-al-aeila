# ุฏููู ูุดุฑ ููุงุนุฏ Firestore

## ๐ ุฎุทูุงุช ูุดุฑ ููุงุนุฏ ุงูุญูุงูุฉ

### 1. ุงููุตูู ุฅูู Firebase Console
```
https://console.firebase.google.com
```

### 2. ุงุฎุชูุงุฑ ุงููุดุฑูุน
- ุงุฎุชุฑ ูุดุฑูุน `shajarat-al-aeila-iraq`
- ุงูุชูู ุฅูู **Firestore Database**

### 3. ุชุญุฏูุซ ุงูููุงุนุฏ
- ุงุถุบุท ุนูู **Rules** ูู ุงูุดุฑูุท ุงูุนููู
- ุงูุณุญ ุงููุญุชูู ุงูุญุงูู
- ุงูุณุฎ ูุญุชูู ููู `firestore.rules` ูุงููุงู
- ุงุถุบุท **Publish** ููุดุฑ ุงูููุงุนุฏ

### 4. ุงูุชุญูู ูู ุงูููุงุนุฏ
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู ุงูุชุดุบูู ุงูุชุฌุฑูุจู
- ุงุฎุชุจุฑ ุงูุงุชุตุงู ุนุจุฑ ุตูุญุฉ `/firestore-test`

## ๐ ูููู ุงููุฌููุนุงุช ุงููุฏุนููุฉ

### ุงููุฌููุนุงุช ุงูุญุงููุฉ:
- `users/{userId}` - ุจูุงูุงุช ุงููุณุชุฎุฏููู
- `families/{familyId}` - ุฃุนุถุงุก ุงูุนุงุฆูุฉ (ุงููููู ุงูุญุงูู)
- `test_connection/{testId}` - ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

### ุงููุฌููุนุงุช ุงููุณุชูุจููุฉ:
- `users/{userId}/family/{memberId}` - ูููู ูุฑูู ููุนุงุฆูุงุช
- `tribes/{tribeId}` - ุงููุจุงุฆู ูุงูุดุฌุฑุฉ ุงูููุญุฏุฉ
- `tribeMemberships/{membershipId}` - ุนุถููุฉ ุงููุจุงุฆู
- `tribes/{tribeId}/members/{memberId}` - ุฃุนุถุงุก ุงููุจููุฉ
- `tribeJoinRequests/{requestId}` - ุทูุจุงุช ุงูุงูุถูุงู
- `tribes/{tribeId}/connections/{connectionId}` - ุฑูุงุจุท ุงูุนุงุฆูุงุช

## ๐ง ุงุฎุชุจุงุฑ ุงูููุงุนุฏ

### ูู Firebase Console:
1. ุงูุชูู ุฅูู **Rules**
2. ุงุถุบุท ุนูู **Simulator**
3. ุงุฎุชุจุฑ ุนูููุงุช ูุฎุชููุฉ ูุน ูุนุฑูุงุช ูุณุชุฎุฏููู ูุชููุนุฉ

### ูู ุงูุชุทุจูู:
```
http://localhost:5176/firestore-test
```

## โก ุงูููุฒุงุช ุงููุฏุนููุฉ

### ุงูุญูุงูุฉ:
- โ ุงูุชุญูู ูู ุงููุตุงุฏูุฉ ูุฌููุน ุงูุนูููุงุช
- โ ูุตู ุจูุงูุงุช ุงููุณุชุฎุฏููู
- โ ุญูุงูุฉ ุจูุงูุงุช ุงูุนุงุฆูุฉ
- โ ุฏุนู ูุธุงู ุงููุจุงุฆู ุงููุณุชูุจูู

### ุงููุฑุงุกุฉ:
- โ ุงููุณุชุฎุฏููู: ูุฑุงุกุฉ ูุญุฏูุฏุฉ ููุขุฎุฑูู
- โ ุงูุนุงุฆูุงุช: ูุฑุงุกุฉ ููุฌููุน (ููุจุญุซ)
- โ ุงููุจุงุฆู: ูุฑุงุกุฉ ููุฌููุน

### ุงููุชุงุจุฉ:
- โ ุงููุณุชุฎุฏููู: ุงููุงูู ููุท
- โ ุงูุนุงุฆูุงุช: ุงููุงูู ููุท  
- โ ุงููุจุงุฆู: ุญุณุจ ุงูุตูุงุญูุงุช

## ๐จ ููุงุญุธุงุช ูููุฉ

1. **ููุงุนุฏ ุงูุงุฎุชุจุงุฑ**: ุชู ุฅุถุงูุฉ `firestore.rules.test` ููุงุฎุชุจุงุฑ
2. **ุงูุฃูุงู**: ุงูููุงุนุฏ ุงูุญุงููุฉ ุขููุฉ ููุญููุฉ
3. **ุงููุฑููุฉ**: ุฏุนู ููููุงูู ุงูุญุงููุฉ ูุงููุณุชูุจููุฉ
4. **ุงูุฃุฏุงุก**: ููุฑุณุฉ ุชููุงุฆูุฉ ููุงุณุชุนูุงูุงุช

## ๐ ูู ุญุงูุฉ ุงููุดุงูู

### ุฎุทุฃ ุงูุตูุงุญูุงุช:
```
Missing or insufficient permissions
```
**ุงูุญู**: ุชุฃูุฏ ูู ูุดุฑ ุงูููุงุนุฏ ูุชุณุฌูู ุงูุฏุฎูู

### ุฎุทุฃ ุงูููุงุฑุณ:
```
The query requires an index
```
**ุงูุญู**: ุฅูุดุงุก ุงูููุฑุณ ุงููุทููุจ ูู Console ุฃู ุงูุชุธุงุฑ ุงูุฅูุดุงุก ุงูุชููุงุฆู

### ุฎุทุฃ ุงูุชุดุบูู ุงูุชุฌุฑูุจู:
```
Error in simulation
```
**ุงูุญู**: ุฑุงุฌุน syntax ุงูููุงุนุฏ ูู Firebase Console
