# ุดุฌุฑุฉ ุงูุนุงุฆูุฉ (Shajarat Al-Aeila)

ุชุทุจูู React.js ูุฅุฏุงุฑุฉ ูุนุฑุถ ุดุฌุฑุฉ ุงูุนุงุฆูุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุน ุฏุนู Firebase ูููุตุงุฏูุฉ ูSupabase ููุงุนุฏุฉ ุงูุจูุงูุงุช.

## ๐ ุงูููุฒุงุช

- โ **ุงููุตุงุฏูุฉ**: ุชุณุฌูู ุฏุฎูู ุจุงููุงุชู ุนุจุฑ Firebase Authentication
- โ **ุฅุฏุงุฑุฉ ุงูุนุงุฆูุฉ**: ุฅุถุงูุฉ ูุชุนุฏูู ูุญุฐู ุฃูุฑุงุฏ ุงูุนุงุฆูุฉ
- โ **ุนุฑุถ ุงูุดุฌุฑุฉ**: ุนุฑุถ ุชูุงุนูู ููุดุฌุฑุฉ ุจุงุณุชุฎุฏุงู D3.js
- โ **ุงูุฅุญุตุงุฆูุงุช**: ุนุฑุถ ุฅุญุตุงุฆูุงุช ุดุงููุฉ ุนู ุงูุนุงุฆูุฉ
- โ **ูุงุฌูุฉ ุนุฑุจูุฉ**: ูุงุฌูุฉ ูุงููุฉ ุจุงูุนุฑุจูุฉ ูุน ุฏุนู RTL
- โ **ุขูู**: ุญูุงูุฉ ุงูุจูุงูุงุช ูุชุดููุฑ ุงูุงุชุตุงูุงุช

## ๐ฆ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Frontend
- **React 19** - ููุชุจุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- **Material-UI 7** - ููููุงุช UI ุฌุงูุฒุฉ
- **D3.js** - ุฑุณู ุงูุดุฌุฑุฉ ุงูุชูุงุนููุฉ
- **React Router 7** - ุงูุชูุฌูู
- **Vite 6** - ุฃุฏุงุฉ ุงูุจูุงุก ุงูุณุฑูุนุฉ

### Backend
- **Firebase Authentication** - ุงููุตุงุฏูุฉ ุนุจุฑ ุฑูู ุงููุงุชู
- **Supabase** - ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL
- **Firebase Functions** - ุฏูุงู ุฎูููุฉ (ุงุฎุชูุงุฑู)

## ๐๏ธ ุงูุชุซุจูุช ูุงูุชุดุบูู

### ุงููุชุทูุจุงุช
- Node.js 18+
- npm ุฃู yarn
- ุญุณุงุจ Firebase
- ุญุณุงุจ Supabase

### 1. ุชุซุจูุช ุงูุชุจุนูุงุช
```bash
npm install
```

### 2. ุฅุนุฏุงุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
ุฃูุดุฆ ููู `.env` ูู ุฌุฐุฑ ุงููุดุฑูุน:

```env
# Firebase
VITE_FIREBASE_API_KEY=your_api_key
VITE_FIREBASE_AUTH_DOMAIN=your_project.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your_project_id
VITE_FIREBASE_STORAGE_BUCKET=your_project.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=your_sender_id
VITE_FIREBASE_APP_ID=your_app_id

# Supabase
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
ูููุฐ ููู `supabase-schema.sql` ูู Supabase SQL Editor:

```bash
# ุงูุชุญ Supabase Dashboard โ SQL Editor
# ุงูุณุฎ ูุญุชูู supabase-schema.sql ููููุฐู
```

### 4. ุชุดุบูู ุงููุดุฑูุน
```bash
npm run dev
```

ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:5173`

### 5. ุงูุจูุงุก ููุฅูุชุงุฌ
```bash
npm run build
npm run preview
```

## ๐ ูููู ุงููุดุฑูุน

```
src/
โโโ components/          # ููููุงุช React ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
โ   โโโ FamilyTreeAdvanced.jsx   # ุนุฑุถ ุงูุดุฌุฑุฉ
โ   โโโ InstallPrompt.jsx        # ุชุซุจูุช PWA
โโโ pages/              # ุตูุญุงุช ุงูุชุทุจูู
โ   โโโ PhoneLogin.jsx         # ุชุณุฌูู ุงูุฏุฎูู
โ   โโโ Family.jsx             # ุฅุฏุงุฑุฉ ุงูุนุงุฆูุฉ
โ   โโโ FamilyTree.jsx         # ุนุฑุถ ุงูุดุฌุฑุฉ
โ   โโโ Statistics.jsx         # ุงูุฅุญุตุงุฆูุงุช
โ   โโโ PrivacyPolicy.jsx      # ุณูุงุณุฉ ุงูุฎุตูุตูุฉ
โโโ services/           # ุฎุฏูุงุช API
โ   โโโ userService.js         # ุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ firebase/           # ุฅุนุฏุงุฏุงุช Firebase
โ   โโโ config.js              # ุชูููู Firebase
โ   โโโ auth.js                # ุฏูุงู ุงููุตุงุฏูุฉ
โโโ utils/              # ุฏูุงู ูุณุงุนุฏุฉ
โ   โโโ FamilyTreeBuilder.js   # ุจูุงุก ูููู ุงูุดุฌุฑุฉ
โ   โโโ FamilyRelations.js     # ุฅุฏุงุฑุฉ ุงูุนูุงูุงุช
โ   โโโ FamilyAnalytics.js     # ุญุณุงุจุงุช ุฅุญุตุงุฆูุฉ
โ   โโโ DebugLogger.js         # ุชุณุฌูู ุงูุฃุฎุทุงุก
โโโ hooks/              # React Hooks ูุฎุตุตุฉ
โ   โโโ usePhoneAuth.js        # hook ุงููุตุงุฏูุฉ
โโโ contexts/           # React Contexts
โ   โโโ AuthContext.jsx        # ุณูุงู ุงููุณุชุฎุฏู
โโโ App.jsx             # ุงููููู ุงูุฑุฆูุณู
โโโ AppRoutes.jsx       # ุฅุนุฏุงุฏุงุช ุงูุชูุฌูู
โโโ main.jsx            # ููุทุฉ ุงูุฏุฎูู
```

## ๐๏ธ ุจููุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุฌุฏูู `persons`
| ุนููุฏ | ููุน | ูุตู |
|------|-----|-----|
| id | BIGSERIAL | ุงููุนุฑูู ุงููุฑูุฏ |
| first_name | TEXT | ุงูุงุณู ุงูุฃูู |
| father_name | TEXT | ุงุณู ุงูุฃุจ |
| family_name | TEXT | ุงุณู ุงูุนุงุฆูุฉ |
| gender | TEXT | ุงูุฌูุณ (M/F) |
| is_root | BOOLEAN | ุฑุจ ุงูุนุงุฆูุฉุ |
| created_by | TEXT | Firebase UID |
| created_at | TIMESTAMPTZ | ุชุงุฑูุฎ ุงูุฅูุดุงุก |

### ุฌุฏูู `relations`
| ุนููุฏ | ููุน | ูุตู |
|------|-----|-----|
| id | BIGSERIAL | ุงููุนุฑูู ุงููุฑูุฏ |
| parent_id | BIGINT | ูุนุฑูู ุงูุฃุจ |
| child_id | BIGINT | ูุนุฑูู ุงูุงุจู |
| created_at | TIMESTAMPTZ | ุชุงุฑูุฎ ุงูุฅูุดุงุก |

## ๐ง ุงูุฃูุงูุฑ ุงููุชุงุญุฉ

```bash
npm run dev          # ุชุดุบูู ุงูุชุทููุฑ
npm run build        # ุจูุงุก ููุฅูุชุงุฌ
npm run preview      # ูุนุงููุฉ ุงูุจูุงุก
npm run lint         # ูุญุต ุงูููุฏ
npm run lint:fix     # ุฅุตูุงุญ ุงูุฃุฎุทุงุก
npm run clean        # ุชูุธูู ุงููููุงุช
npm run fresh-install # ุชุซุจูุช ูุธูู
```

## ๐ ุงููุณุงููุฉ

ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ. ูููุณุงููุฉ:

1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ ูุฑุน ููููุฒุฉ ุงูุฌุฏูุฏุฉ
3. Commit ุงูุชุบููุฑุงุช
4. Push ูููุฑุน
5. ุงูุชุญ Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎูุต ุชุญุช MIT License.

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ุงูุชุญ Issue ูู GitHub.

---

ุตููุน ุจู โค๏ธ ูู ุงูุนุฑุงู ๐ฎ๐ถ